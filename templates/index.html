<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phân Tích Văn Bản Tiếng Việt - Demo Học Thuật</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="static/css/style.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h1><i class="fas fa-language me-3"></i>Phân Tích Văn Bản</h1>
                    <p class="subtitle">Demo Xử Lý Ngôn Ngữ Tự Nhiên</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container-fluid px-3">
        <div class="content-wrapper">
            <!-- Main Content Area -->
            <div class="main-content">
                <!-- Input Section -->
                <div class="card input-section">
                    <div class="card-header">
                        <i class="fas fa-edit me-2"></i>Nhập Văn Bản vào đây
                    </div>
                    <div class="card-body">
                        <!-- File Upload Area -->
                        <div class="file-upload-area mb-3" id="fileUploadArea">
                            <i class="fas fa-cloud-upload-alt fa-2x mb-2 text-muted"></i>
                            <p class="mb-2">
                                <strong>Kéo thả</strong> tệp văn bản vào đây, hoặc 
                                <span class="text-primary" style="cursor: pointer;">nhấn để chọn tệp</span>
                            </p>
                            <small class="text-muted">Hỗ trợ tệp .txt</small>
                            <input type="file" id="fileInput" accept=".txt" style="display: none;">
                        </div>

                        <!-- Text Area -->
                        <div class="mb-3 text-input-area">
                            <label for="textInput" class="form-label">Văn Bản</label>
                            <textarea 
                                class="form-control" 
                                id="textInput" 
                                rows="8" 
                                spellcheck="false"
                                placeholder="Nhập hoặc dán văn bản vào đây..."
                                aria-describedby="textHelp"></textarea>
                        </div>

                        <!-- Action Buttons -->
                        <div class="d-grid gap-3 d-md-flex justify-content-md-start">
                            <button type="button" class="btn btn-analyze" id="summarizeBtn">
                                <i class="fas fa-compress-alt me-2"></i>Tóm Tắt
                            </button>
                            <button type="button" class="btn btn-analyze" id="sentimentBtn">
                                <i class="fas fa-smile me-2"></i>Phân Tích Cảm Xúc
                            </button>
                            <button type="button" class="btn btn-analyze" id="analyzeBtn">
                                <i class="fas fa-cogs me-2"></i>Cả Hai (Tóm Tắt và Cảm Xúc)
                            </button>
                            <button type="button" class="btn btn-outline-secondary" id="clearBtn">
                                <i class="fas fa-eraser me-2"></i>Xóa
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Results Section -->
                <div id="resultsSection" class="mt-4" style="display: none;">
                    <!-- Summary Results -->
                    <div id="summaryResults" class="output-card" style="display: none;">
                        <div class="output-header">
                            Tóm tắt văn bản
                        </div>
                        <div class="card-body position-relative">
                            <div id="summaryLoading" class="loading-overlay" style="display: none;">
                                <div class="spinner"></div>
                                <p class="mt-3">Đang tóm tắt...</p>
                            </div>
                            <div id="summaryText" class="summary-content"></div>
                        </div>
                    </div>

                    <!-- Sentiment Results -->
                    <div id="sentimentResults" class="output-card" style="display: none;">
                        <div class="output-header">
                            Phân tích cảm xúc
                        </div>
                        <div class="card-body position-relative">
                            <div id="sentimentLoading" class="loading-overlay" style="display: none;">
                                <div class="spinner"></div>
                                <p class="mt-3">Đang phân tích...</p>
                            </div>
                            <div class="sentiment-display">
                                <div id="sentimentLabel" class="sentiment-label"></div>
                                <div class="confidence-display">
                                    <div class="confidence-text">Độ tin cậy: <span id="confidenceText"></span></div>
                                    <div class="confidence-bar">
                                        <div id="confidenceBar" class="confidence-fill"></div>
                                    </div>
                                </div>
                                <div id="sentimentSource" class="text-muted small mt-2" style="display: none;">
                                    Phân tích từ: <span id="sentimentSourceText"></span>
                                </div>
                            </div>
                            <div id="probabilitiesSection"></div>
                        </div>
                    </div>

                    <!-- Statistics -->
                    <div class="output-card">
                        <div class="output-header">
                            Thống kê xử lý
                        </div>
                        <div class="card-body">
                            <div id="statisticsSection" class="stats-grid"></div>
                        </div>
                    </div>
                </div>
            </div>

            </div>

            <!-- Sidebar with Tabs -->
            <div class="sidebar">
                <div class="card">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-tabs" id="sidebarTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="about-tab" data-bs-toggle="tab" data-bs-target="#about" type="button" role="tab">
                                Về project
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="models-tab" data-bs-toggle="tab" data-bs-target="#models" type="button" role="tab">
                                Model
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="history-tab" data-bs-toggle="tab" data-bs-target="#history" type="button" role="tab">
                                Lịch sử xử lý
                            </button>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content" id="sidebarTabContent">
                        <!-- About Tab -->
                        <div class="tab-pane fade show active" id="about" role="tabpanel">
                            <h6><i class="fas fa-graduation-cap me-2"></i>Demo đồ án</h6>
                            <p class="small">
                                Ứng dụng demo này được dùng để xử lý ngôn ngữ tiếng Việt,
                                bao gồm tóm tắt văn bản và phân tích cảm xúc, 
                                sử dụng các mô hình trên huggingface thay vì sử dụng mô hình ML truyền thống .
                            </p>

                            <h6><i class="fas fa-target me-2"></i>Mục tiêu nghiên cứu</h6>
                            <ul class="small">
                                <li>Tóm tắt văn bản dài dòng</li>
                                <li>Dự đoán cảm xúc </li>
                            </ul>

                            <h6><i class="fas fa-users me-2"></i>Các ứng dụng thực tế</h6>
                            <ul class="small">
                                <li>Phân tích phản hồi khách hàng</li>
                                <li>Tóm tắt báo cáo và tài liệu</li>
                            </ul>
                        </div>

                        <!-- Models Tab -->
                        <div class="tab-pane fade" id="models" role="tabpanel">
                            <h6><i class="fas fa-robot me-2"></i>Mô Hình AI Sử Dụng</h6>
                            
                            <div class="mb-3">
                                <h6 class="text-primary small">
                                    <i class="fas fa-compress-alt me-1"></i>Tóm tắt văn bản
                                </h6>
                                <p class="small mb-1"><strong>ViT5-base (Vietnamese T5)</strong></p>
                                <p class="small text-muted">
                                    Mô hình transformer được fine-tune, 
                                    tối ưu hóa cho tác vụ tóm tắt văn bản.
                                </p>
                            </div>

                            <div class="mb-3">
                                <h6 class="text-success small">
                                    <i class="fas fa-smile me-1"></i>Phân tích cảm xúc
                                </h6>
                                <p class="small mb-1"><strong>PhoBERT-base</strong></p>
                                <p class="small text-muted">
                                    Mô hình BERT được pre-train trên corpus tiếng Việt lớn, 
                                    dành cho phân loại cảm xúc.
                                </p>
                            </div>

                            <h6><i class="fas fa-database me-2"></i>Dữ liệu huấn luyện</h6>
                            <ul class="small">
                                <li>Sử dụng tập dữ liệu được thu thập từ Kaggle</li>
                                <li>Các tập dữ liệu gồm có: </li>
                                <li>
                                    <a href="https://www.kaggle.com/datasets/linhlpv/vietnamese-sentiment-analyst" target="_blank">
                                        Dữ liệu phân tích cảm xúc dựa vào bình luận
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.kaggle.com/datasets/thanhphongl/summary-vietnamese" target="_blank">
                                        Dữ liệu tóm tắt văn bản từ các báo chí
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <!-- History Tab -->
                        <div class="tab-pane fade" id="history" role="tabpanel">
                            <h6>Lịch sử phân tích</h6>
                            <div id="historyPanel">
                                <p class="text-muted small text-center">Chưa có phân tích nào được thực hiện</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <h6>Phân Tích Văn Bản Tiếng Việt</h6>
                    <p class="mb-2">
                        Demo ứng dụng xử lý ngôn ngữ.
                    </p>
                </div>
                <div class="col-md-4 text-md-end">
                    <p class="mb-0">
                        <a href="https://github.com/phanthehoang2503/summarize-and-sentiment-vietnamese-text-" target="_blank">
                            <i class="fab fa-github me-2"></i>Xem trên GitHub
                        </a>
                    </p>
                </div>
            </div>
            <hr class="my-3">
            <div class="row">
                <div class="col-12 text-center">
                    <small class="text-muted">
                        &copy; 2025 Demo Phân Tích Văn Bản.
                    </small>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Component Scripts -->
    <script src="static/js/api-service.js"></script>
    <script src="static/js/ui-manager.js"></script>
    <script src="static/js/results-display.js"></script>
    <script src="static/js/file-upload.js"></script>
    <script src="static/js/history-manager.js"></script>
    <script src="static/js/main.js"></script>
</body>
</html>