<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phân Tích Văn Bản Tiếng Việt - Demo Học Thuật</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css        .stat-label {
            font-size: 0.875rem;
            color: #6c757d;
            margin-bottom: 0.5rem;
        }

        .footer {l="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --success-color: #27ae60;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --info-color: #3498db;
            --light-bg: #f8f9fa;
            --border-color: #dee2e6;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
        }

        .header .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .card {
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }

        .card-header {
            background: var(--light-bg);
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
            color: var(--primary-color);
        }

        .input-section {
            background: white;
        }

        .output-section {
            background: var(--light-bg);
        }

        .main-content {
            flex: 1;
            max-width: 100%;
            padding-right: 1rem;
        }

        .sidebar {
            width: 350px;
            min-width: 350px;
        }

        .content-wrapper {
            display: flex;
            gap: 1.5rem;
            align-items: flex-start;
        }

        /* Tab Navigation */
        .nav-tabs {
            border-bottom: 2px solid var(--border-color);
        }

        .nav-tabs .nav-link {
            color: var(--secondary-color);
            border: none;
            padding: 0.75rem 1rem;
            font-weight: 500;
        }

        .nav-tabs .nav-link.active {
            color: var(--primary-color);
            background: transparent;
            border-bottom: 2px solid var(--primary-color);
            margin-bottom: -2px;
        }

        .nav-tabs .nav-link:hover {
            color: var(--primary-color);
            border: none;
        }

        .tab-content {
            padding: 1.5rem;
            background: white;
            border-radius: 0 0 8px 8px;
            min-height: 400px;
        }

        .btn-analyze {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
            font-weight: 500;
            padding: 0.75rem 1.5rem;
            transition: all 0.3s ease;
        }

        .btn-analyze:hover {
            background: var(--secondary-color);
            border-color: var(--secondary-color);
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(44, 62, 80, 0.3);
        }

        .btn-analyze:disabled {
            background: #6c757d;
            border-color: #6c757d;
            transform: none;
            box-shadow: none;
        }

        /* Enhanced Output Sections */
        .output-card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .output-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1rem 1.5rem;
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .summary-content {
            background: #f8f9fa;
            border: 2px solid #e3f2fd;
            border-radius: 8px;
            padding: 1.5rem;
            font-size: 1.05rem;
            line-height: 1.6;
            margin: 1rem 0;
            white-space: pre-wrap; /* Preserve whitespace and line breaks */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .sentiment-display {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .sentiment-label {
            font-size: 1.5rem;
            font-weight: 700;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .sentiment-positive {
            background: #d4edda;
            color: #155724;
            border: 2px solid #27ae60;
        }

        .sentiment-negative {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #e74c3c;
        }

        .sentiment-neutral {
            background: #fff3cd;
            color: #856404;
            border: 2px solid #f39c12;
        }

        .confidence-display {
            flex: 1;
        }

        .confidence-bar {
            height: 12px;
            background: #e9ecef;
            border-radius: 6px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .confidence-fill {
            height: 100%;
            transition: width 0.8s ease;
            border-radius: 6px;
        }

        .confidence-text {
            font-weight: 600;
            font-size: 1.1rem;
        }

        /* Loading Indicator */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            border-radius: 8px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Input Area Improvements */
        .text-input-area {
            position: relative;
        }

        #textInput {
            font-size: 1rem;
            line-height: 1.6;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            transition: border-color 0.3s ease;
            resize: vertical;
            min-height: 150px;
            white-space: pre-wrap; /* Preserve whitespace and line breaks */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        #textInput:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);
        }

        /* Remove spell-check underlines */
        #textInput::-webkit-input-placeholder {
            color: #6c757d;
        }

        #textInput::-moz-placeholder {
            color: #6c757d;
        }

        #textInput:-ms-input-placeholder {
            color: #6c757d;
        }

        .sentiment-positive {
            color: var(--success-color);
            font-weight: 600;
        }

        .sentiment-negative {
            color: var(--danger-color);
            font-weight: 600;
        }

        .sentiment-neutral {
            color: var(--warning-color);
            font-weight: 600;
        }

        .confidence-bar {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .confidence-fill {
            height: 100%;
            transition: width 0.5s ease;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .stat-item {
            text-align: center;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        @media (max-width: 1200px) {
            .content-wrapper {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                min-width: auto;
                order: 2;
            }
            
            .main-content {
                padding-right: 0;
                order: 1;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
            
            .stat-item {
                padding: 1rem;
            }
            
            .stat-value {
                font-size: 1.5rem;
            }
            
            .sentiment-label {
                font-size: 1.2rem;
            }
        }

        .history-item {
            border-left: 3px solid var(--primary-color);
            padding: 1rem;
            margin-bottom: 1rem;
            background: white;
            border-radius: 0 8px 8px 0;
        }

        .history-timestamp {
            font-size: 0.875rem;
            color: #6c757d;
            margin-bottom: 0.5rem;
        }

        .warning-banner {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 0.75rem 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
        }

        .footer {
            background: var(--primary-color);
            color: white;
            padding: 2rem 0;
            margin-top: 3rem;
        }

        .footer a {
            color: #ecf0f1;
            text-decoration: none;
        }

        .footer a:hover {
            color: white;
            text-decoration: underline;
        }

        .file-upload-area {
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .file-upload-area:hover {
            border-color: var(--primary-color);
            background: var(--light-bg);
        }

        .file-upload-area.dragover {
            border-color: var(--success-color);
            background: #d4edda;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h1><i class="fas fa-language me-3"></i>Phân Tích Văn Bản</h1>
                    <p class="subtitle">Demo Xử Lý Ngôn Ngữ Tự Nhiên</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container-fluid px-3">
        <div class="content-wrapper">
            <!-- Main Content Area -->
            <div class="main-content">
                <!-- Input Section -->
                <div class="card input-section">
                    <div class="card-header">
                        <i class="fas fa-edit me-2"></i>Nhập Văn Bản vào đây
                    </div>
                    <div class="card-body">
                        <!-- File Upload Area -->
                        <div class="file-upload-area mb-3" id="fileUploadArea">
                            <i class="fas fa-cloud-upload-alt fa-2x mb-2 text-muted"></i>
                            <p class="mb-2">
                                <strong>Kéo thả</strong> tệp văn bản vào đây, hoặc 
                                <span class="text-primary" style="cursor: pointer;">nhấn để chọn tệp</span>
                            </p>
                            <small class="text-muted">Hỗ trợ tệp .txt</small>
                            <input type="file" id="fileInput" accept=".txt" style="display: none;">
                        </div>

                        <!-- Text Area -->
                        <div class="mb-3 text-input-area">
                            <label for="textInput" class="form-label">Văn Bản</label>
                            <textarea 
                                class="form-control" 
                                id="textInput" 
                                rows="8" 
                                spellcheck="false"
                                placeholder="Nhập hoặc dán văn bản vào đây..."
                                aria-describedby="textHelp"></textarea>
                        </div>

                        <!-- Action Buttons -->
                        <div class="d-grid gap-3 d-md-flex justify-content-md-start">
                            <button type="button" class="btn btn-analyze" id="summarizeBtn">
                                <i class="fas fa-compress-alt me-2"></i>Tóm Tắt
                            </button>
                            <button type="button" class="btn btn-analyze" id="sentimentBtn">
                                <i class="fas fa-smile me-2"></i>Phân Tích Cảm Xúc
                            </button>
                            <button type="button" class="btn btn-analyze" id="analyzeBtn">
                                <i class="fas fa-cogs me-2"></i>Cả Hai (Tóm Tắt và Cảm Xúc)
                            </button>
                            <button type="button" class="btn btn-outline-secondary" id="clearBtn">
                                <i class="fas fa-eraser me-2"></i>Xóa
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Results Section -->
                <div id="resultsSection" class="mt-4" style="display: none;">
                    <!-- Summary Results -->
                    <div id="summaryResults" class="output-card" style="display: none;">
                        <div class="output-header">
                            <i class="fas fa-compress-alt me-2"></i>Tóm tắt văn bản
                        </div>
                        <div class="card-body position-relative">
                            <div id="summaryLoading" class="loading-overlay" style="display: none;">
                                <div class="spinner"></div>
                                <p class="mt-3">Đang tóm tắt...</p>
                            </div>
                            <div id="summaryText" class="summary-content"></div>
                        </div>
                    </div>

                    <!-- Sentiment Results -->
                    <div id="sentimentResults" class="output-card" style="display: none;">
                        <div class="output-header">
                            <i class="fas fa-smile me-2"></i>Phân tích cảm xúc
                        </div>
                        <div class="card-body position-relative">
                            <div id="sentimentLoading" class="loading-overlay" style="display: none;">
                                <div class="spinner"></div>
                                <p class="mt-3">Đang phân tích...</p>
                            </div>
                            <div class="sentiment-display">
                                <div id="sentimentLabel" class="sentiment-label"></div>
                                <div class="confidence-display">
                                    <div class="confidence-text">Độ tin cậy: <span id="confidenceText"></span></div>
                                    <div class="confidence-bar">
                                        <div id="confidenceBar" class="confidence-fill"></div>
                                    </div>
                                </div>
                            </div>
                            <div id="probabilitiesSection"></div>
                        </div>
                    </div>

                    <!-- Statistics -->
                    <div class="output-card">
                        <div class="output-header">
                            <i class="fas fa-chart-bar me-2"></i>Thống kê xử lý
                        </div>
                        <div class="card-body">
                            <div id="statisticsSection" class="stats-grid"></div>
                        </div>
                    </div>
                </div>
            </div>

            </div>

            <!-- Sidebar with Tabs -->
            <div class="sidebar">
                <div class="card">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-tabs" id="sidebarTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="about-tab" data-bs-toggle="tab" data-bs-target="#about" type="button" role="tab">
                                <i class="fas fa-info-circle me-1"></i>Về project
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="models-tab" data-bs-toggle="tab" data-bs-target="#models" type="button" role="tab">
                                <i class="fas fa-brain me-1"></i>Model
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="history-tab" data-bs-toggle="tab" data-bs-target="#history" type="button" role="tab">
                                <i class="fas fa-history me-1"></i>Lịch sử xử lý
                            </button>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content" id="sidebarTabContent">
                        <!-- About Tab -->
                        <div class="tab-pane fade show active" id="about" role="tabpanel">
                            <h6><i class="fas fa-graduation-cap me-2"></i>Demo đồ án</h6>
                            <p class="small">
                                Ứng dụng demo này được dùng để xử lý ngôn ngữ tiếng Việt,
                                bao gồm tóm tắt văn bản và phân tích cảm xúc, 
                                sử dụng các mô hình trên huggingface thay vì sử dụng mô hình ML truyền thống .
                            </p>

                            <h6><i class="fas fa-target me-2"></i>Mục tiêu nghiên cứu</h6>
                            <ul class="small">
                                <li>Tóm tắt văn bản dài dòng</li>
                                <li>Dự đoán cảm xúc </li>
                            </ul>

                            <h6><i class="fas fa-users me-2"></i>Các ứng dụng thực tế</h6>
                            <ul class="small">
                                <li>Phân tích phản hồi khách hàng</li>
                                <li>Tóm tắt báo cáo và tài liệu</li>
                            </ul>
                        </div>

                        <!-- Models Tab -->
                        <div class="tab-pane fade" id="models" role="tabpanel">
                            <h6><i class="fas fa-robot me-2"></i>Mô Hình AI Sử Dụng</h6>
                            
                            <div class="mb-3">
                                <h6 class="text-primary small">
                                    <i class="fas fa-compress-alt me-1"></i>Tóm tắt văn bản
                                </h6>
                                <p class="small mb-1"><strong>ViT5-base (Vietnamese T5)</strong></p>
                                <p class="small text-muted">
                                    Mô hình transformer được fine-tune, 
                                    tối ưu hóa cho tác vụ tóm tắt văn bản.
                                </p>
                            </div>

                            <div class="mb-3">
                                <h6 class="text-success small">
                                    <i class="fas fa-smile me-1"></i>Phân tích cảm xúc
                                </h6>
                                <p class="small mb-1"><strong>PhoBERT-base</strong></p>
                                <p class="small text-muted">
                                    Mô hình BERT được pre-train trên corpus tiếng Việt lớn, 
                                    dành cho phân loại cảm xúc.
                                </p>
                            </div>

                            <h6><i class="fas fa-database me-2"></i>Dữ liệu huấn luyện</h6>
                            <ul class="small">
                                <li>Sử dụng tập dữ liệu được thu thập từ Kaggle</li>
                                <li>Các tập dữ liệu gồm có: </li>
                                <li>
                                    <a href="https://www.kaggle.com/datasets/linhlpv/vietnamese-sentiment-analyst" target="_blank">
                                        Dữ liệu phân tích cảm xúc dựa vào bình luận
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.kaggle.com/datasets/thanhphongl/summary-vietnamese" target="_blank">
                                        Dữ liệu tóm tắt văn bản từ các báo chí
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <!-- History Tab -->
                        <div class="tab-pane fade" id="history" role="tabpanel">
                            <h6><i class="fas fa-history me-2"></i>Lịch sử phân tích</h6>
                            <div id="historyPanel">
                                <p class="text-muted small text-center">Chưa có phân tích nào được thực hiện</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <h6>Phân Tích Văn Bản Tiếng Việt</h6>
                    <p class="mb-2">
                        Demo ứng dụng xử lý ngôn ngữ.
                    </p>
                </div>
                <div class="col-md-4 text-md-end">
                    <p class="mb-0">
                        <a href="https://github.com/phanthehoang2503/summarize-and-sentiment-vietnamese-text-" target="_blank">
                            <i class="fab fa-github me-2"></i>Xem trên GitHub
                        </a>
                    </p>
                </div>
            </div>
            <hr class="my-3">
            <div class="row">
                <div class="col-12 text-center">
                    <small class="text-muted">
                        &copy; 2025 Demo Phân Tích Văn Bản.
                    </small>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="static/js/app.js"></script>
</body>
</html>